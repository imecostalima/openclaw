<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenClaw Secure Installer — Gantt Chart</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0a0e17;
  --surface: #111827;
  --surface2: #1a2234;
  --border: #1e293b;
  --text: #e2e8f0;
  --text-dim: #64748b;
  --text-bright: #f8fafc;
  --accent: #38bdf8;
  --accent-dim: #0c4a6e;
  --phase1: #f472b6;
  --phase2: #a78bfa;
  --phase3: #34d399;
  --phase4: #fbbf24;
  --phase5: #38bdf8;
  --phase6: #fb923c;
  --phase7: #f87171;
  --phase8: #818cf8;
  --phase9: #2dd4bf;
  --critical: #ef4444;
  --milestone: #fbbf24;
  --today: #38bdf8;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

.header {
  padding: 28px 32px 20px;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(180deg, #0f1520 0%, var(--bg) 100%);
}

.header-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 12px;
}

.header h1 {
  font-family: 'JetBrains Mono', monospace;
  font-size: 20px;
  font-weight: 700;
  color: var(--text-bright);
  letter-spacing: -0.5px;
}

.header h1 span { color: var(--accent); }

.header-meta {
  display: flex;
  gap: 20px;
  font-size: 12px;
  color: var(--text-dim);
  font-family: 'JetBrains Mono', monospace;
  margin-top: 8px;
}

.header-meta .tag {
  background: var(--surface2);
  padding: 3px 10px;
  border-radius: 4px;
  border: 1px solid var(--border);
}

.controls {
  display: flex;
  gap: 8px;
  align-items: center;
}

.controls button {
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  padding: 6px 14px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text-dim);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.15s;
}

.controls button:hover, .controls button.active {
  background: var(--accent-dim);
  border-color: var(--accent);
  color: var(--accent);
}

.chart-container {
  display: flex;
  overflow-x: auto;
  position: relative;
}

.task-labels {
  min-width: 280px;
  max-width: 280px;
  flex-shrink: 0;
  border-right: 1px solid var(--border);
  background: var(--bg);
  position: sticky;
  left: 0;
  z-index: 10;
}

.label-header {
  height: 56px;
  display: flex;
  align-items: center;
  padding: 0 16px;
  border-bottom: 1px solid var(--border);
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 1.5px;
  background: var(--surface);
}

.task-label {
  height: 44px;
  display: flex;
  align-items: center;
  padding: 0 16px;
  border-bottom: 1px solid var(--border);
  font-size: 13px;
  gap: 10px;
  transition: background 0.1s;
  cursor: default;
}

.task-label:hover { background: var(--surface2); }

.task-label.phase-header {
  background: var(--surface);
  font-weight: 700;
  font-size: 12px;
  font-family: 'JetBrains Mono', monospace;
  letter-spacing: -0.3px;
}

.task-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.task-label .dep-tag {
  font-size: 9px;
  font-family: 'JetBrains Mono', monospace;
  color: var(--text-dim);
  background: var(--surface2);
  padding: 1px 5px;
  border-radius: 3px;
  margin-left: auto;
  flex-shrink: 0;
}

.timeline-area {
  flex: 1;
  min-width: 0;
}

.week-headers {
  display: flex;
  height: 56px;
  border-bottom: 1px solid var(--border);
  background: var(--surface);
  position: relative;
}

.week-header {
  flex: 1;
  min-width: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: var(--text-dim);
  border-right: 1px solid var(--border);
  position: relative;
}

.week-header .week-num {
  font-weight: 700;
  color: var(--text);
  display: block;
  font-size: 13px;
}

.week-header .week-date {
  font-size: 9px;
  color: var(--text-dim);
  display: block;
  margin-top: 1px;
}

.bars-area {
  position: relative;
}

.bar-row {
  height: 44px;
  display: flex;
  align-items: center;
  border-bottom: 1px solid var(--border);
  position: relative;
}

.bar-row.phase-header { background: var(--surface); }

.bar-row .grid-line {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 1px;
  background: var(--border);
  opacity: 0.5;
}

.gantt-bar {
  position: absolute;
  height: 24px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 600;
  color: rgba(0,0,0,0.7);
  cursor: pointer;
  transition: all 0.2s;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding: 0 8px;
  z-index: 2;
}

.gantt-bar:hover {
  transform: scaleY(1.15);
  filter: brightness(1.15);
  z-index: 5;
}

.gantt-bar.critical {
  box-shadow: 0 0 0 2px var(--critical), 0 0 12px rgba(239,68,68,0.3);
}

.milestone-marker {
  position: absolute;
  width: 16px;
  height: 16px;
  background: var(--milestone);
  transform: rotate(45deg);
  z-index: 3;
  cursor: pointer;
  transition: all 0.2s;
}

.milestone-marker:hover {
  transform: rotate(45deg) scale(1.3);
  box-shadow: 0 0 12px rgba(251,191,36,0.5);
}

.today-line {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--today);
  z-index: 4;
  opacity: 0.7;
}

.today-line::after {
  content: 'TODAY';
  position: absolute;
  top: -22px;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'JetBrains Mono', monospace;
  font-size: 8px;
  font-weight: 700;
  color: var(--today);
  letter-spacing: 1px;
}

.tooltip {
  display: none;
  position: fixed;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px 16px;
  z-index: 100;
  max-width: 320px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.5);
  pointer-events: none;
}

.tooltip.show { display: block; }

.tooltip h4 {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  color: var(--text-bright);
  margin-bottom: 6px;
}

.tooltip p {
  font-size: 12px;
  color: var(--text-dim);
  line-height: 1.5;
}

.tooltip .tt-meta {
  display: flex;
  gap: 12px;
  margin-top: 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
}

.tooltip .tt-meta span { color: var(--accent); }

.legend {
  display: flex;
  gap: 16px;
  padding: 16px 32px;
  border-top: 1px solid var(--border);
  flex-wrap: wrap;
  font-size: 11px;
  align-items: center;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-dim);
}

.legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 3px;
}

.legend-diamond {
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
  background: var(--milestone);
}

.progress-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: rgba(0,0,0,0.2);
  border-radius: 6px 0 0 6px;
  pointer-events: none;
}

@media (max-width: 768px) {
  .task-labels { min-width: 200px; max-width: 200px; }
  .header { padding: 16px; }
  .legend { padding: 12px 16px; }
}
</style>
</head>
<body>

<div class="header">
  <div class="header-top">
    <h1><span>▸</span> OpenClaw Secure Installer — <span>Project Timeline</span></h1>
    <div class="controls">
      <button class="active" onclick="setView('all')">All Phases</button>
      <button onclick="setView('critical')">Critical Path</button>
      <button onclick="setView('current')">Current Sprint</button>
    </div>
  </div>
  <div class="header-meta">
    <span class="tag">Duration: 12 weeks</span>
    <span class="tag">9 Phases</span>
    <span class="tag">Start: Week of Feb 10, 2026</span>
    <span class="tag">Target: Week of May 4, 2026</span>
  </div>
</div>

<div class="chart-container" id="chart"></div>

<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase1)"></div>P1 VM Provisioning</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase2)"></div>P2 Seed/Keychain</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase3)"></div>P3 Micro-checkpoint</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase4)"></div>P4 State Images</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase5)"></div>P5 Threat-Aware Update</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase6)"></div>P6 Golden Images</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase7)"></div>P7 Forensic Archive</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase8)"></div>P8 Recovery Modes</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--phase9)"></div>P9 CLI/Docs/Hardening</div>
  <div class="legend-item"><div class="legend-diamond"></div>Milestone</div>
  <div class="legend-item"><div style="width:10px;height:3px;background:var(--today);border-radius:2px;"></div>Today</div>
</div>

<div class="tooltip" id="tooltip">
  <h4 id="tt-title"></h4>
  <p id="tt-desc"></p>
  <div class="tt-meta">
    <span id="tt-weeks"></span>
    <span id="tt-deps"></span>
  </div>
</div>

<script>
const TOTAL_WEEKS = 12;
const WEEK_WIDTH = 100;

const phases = [
  { id: 'p1', name: 'Phase 1: VM Provisioning', color: 'var(--phase1)', tasks: [
    { name: 'Hypervisor selection & PoC (UTM/Tart)', start: 0, end: 1, desc: 'Evaluate Apple Virtualization.framework options, benchmark performance on Mac mini M-series', critical: true },
    { name: 'Base Ubuntu 24.04 arm64 image build', start: 0.5, end: 1.5, desc: 'Minimal server install, hardened kernel config, disable unnecessary services' },
    { name: 'Network isolation & egress firewall', start: 1, end: 2, desc: 'NAT config, iptables/nftables allowlist (api.anthropic.com, github.com, etc.)' },
    { name: 'Encrypted QCOW2 disk + snapshot infra', start: 1.5, end: 2, desc: 'LUKS encryption, snapshot API integration, automated pre-update snapshots', critical: true },
    { name: '★ VM boots with OpenClaw running', start: 2, end: 2, milestone: true, desc: 'First working isolated OpenClaw installation inside VM' },
  ]},
  { id: 'p2', name: 'Phase 2: Seed & Keychain', color: 'var(--phase2)', tasks: [
    { name: 'Seed generation (256-bit CSPRNG)', start: 2, end: 2.5, desc: 'Hardware RNG via /dev/urandom, HKDF-SHA256 key hierarchy derivation' },
    { name: 'HKDF key hierarchy derivation', start: 2.5, end: 3, desc: 'Derive VM encryption key, user identity token, config signing keys, vault key, checkpoint keys', critical: true },
    { name: 'macOS Keychain integration', start: 2.5, end: 3, desc: 'Secure seed storage in Keychain, never inside VM' },
    { name: 'BIP-39 mnemonic backup generation', start: 3, end: 3.5, desc: 'User-facing recovery phrase, verification flow' },
    { name: '★ Seed creates & encrypts VM from scratch', start: 3.5, end: 3.5, milestone: true, desc: 'Deterministic environment reconstruction from seed alone' },
  ]},
  { id: 'p3', name: 'Phase 3: Micro-checkpoints', color: 'var(--phase3)', tasks: [
    { name: 'State layer mapping (memory, config, skills)', start: 3, end: 3.5, desc: 'Map all OpenClaw state locations: ~/clawd/, ~/.openclaw/, skills, SQLite index' },
    { name: 'Hourly incremental diff agent (in-VM)', start: 3.5, end: 4, desc: 'Cron-based diff of memory/config files, SHA-256 integrity hashing', critical: true },
    { name: 'Micro-checkpoint storage (7-day rolling)', start: 3.5, end: 4, desc: 'In-VM storage, automatic pruning, ~5MB per checkpoint' },
    { name: 'Micro-rollback restore procedure', start: 4, end: 4.5, desc: 'CLI command to roll back to any hourly checkpoint within 7 days' },
  ]},
  { id: 'p4', name: 'Phase 4: State Images', color: 'var(--phase4)', tasks: [
    { name: 'Full state tar pipeline (encrypted)', start: 4, end: 4.5, desc: 'Atomic capture of all state layers into seed-encrypted tar on host' },
    { name: 'LLM memory integrity scan', start: 4.5, end: 5, desc: 'Claude/GPT reviews memory diffs for prompt injection, base64 blobs, anomalous entries', critical: true },
    { name: 'Skill hash audit (VT cross-ref)', start: 4.5, end: 5, desc: 'Hash all installed skills, compare against VirusTotal-verified versions' },
    { name: 'Config drift detection baseline', start: 5, end: 5.5, desc: 'Signed config baseline, alert on unauthorized integration/permission changes' },
    { name: '★ Daily verified state images operational', start: 5.5, end: 5.5, milestone: true, desc: 'Automated daily checkpoints with full verification pipeline' },
  ]},
  { id: 'p5', name: 'Phase 5: Threat-Aware Update', color: 'var(--phase5)', tasks: [
    { name: 'GitHub release metadata fetcher', start: 5, end: 5.5, desc: 'Pull tags, changelogs, commit diffs from GitHub API' },
    { name: 'GPG/SSH commit signature verification', start: 5.5, end: 6, desc: 'Pinned maintainer key list, reject unsigned releases', critical: true },
    { name: 'CVE/GHSA threat intelligence scanner', start: 5.5, end: 6.5, desc: 'Query NVD, GitHub GHSA, trust.openclaw.ai for active vulnerabilities' },
    { name: 'LLM-assisted diff review', start: 6, end: 7, desc: 'SOTA model reviews code diff for suspicious patterns, permission changes, new network calls', critical: true },
    { name: 'Sandbox test sub-VM', start: 6.5, end: 7, desc: 'Disposable VM clone, run Cisco Skill Scanner + custom injection probes' },
    { name: 'Trust scoring model integration', start: 6.5, end: 7, desc: 'Weighted signal aggregation: commit sig + CVE + sentiment + VT + diff complexity' },
    { name: '★ First automated threat-verified update', start: 7, end: 7, milestone: true, desc: 'End-to-end update pipeline passes all gates and applies successfully' },
  ]},
  { id: 'p6', name: 'Phase 6: Golden Images', color: 'var(--phase6)', tasks: [
    { name: 'Full VM QCOW2 snapshot pipeline', start: 7, end: 7.5, desc: 'Complete disk snapshot, compressed and encrypted on host' },
    { name: 'Post-snapshot full threat pipeline', start: 7.5, end: 8, desc: 'CVE check + skill audit + diff review + sandbox test on snapshot', critical: true },
    { name: 'Golden image retention policy (min 3)', start: 7.5, end: 8, desc: 'Indefinite retention, storage management, pruning UI' },
    { name: '★ First verified golden image created', start: 8, end: 8, milestone: true, desc: 'Weekly golden image pipeline operational' },
  ]},
  { id: 'p7', name: 'Phase 7: Forensic Archive', color: 'var(--phase7)', tasks: [
    { name: 'Append-only encrypted archive volume', start: 8, end: 8.5, desc: 'Immutable write-once storage on host, separate encryption key from checkpoints', critical: true },
    { name: 'Pre-reset state capture automation', start: 8.5, end: 9, desc: 'Freeze & archive current state before ANY reset tier fires', critical: true },
    { name: 'LLM dissection pipeline (memory forensics)', start: 8.5, end: 9.5, desc: 'Deep analysis: fragmented payloads, time-shifted injections, identity manipulation' },
    { name: 'Skill autopsy & config drift analysis', start: 9, end: 9.5, desc: 'Post-install tampering detection, unauthorized integration cataloguing' },
    { name: 'Network forensics (egress log analysis)', start: 9, end: 9.5, desc: 'C2 detection, exfiltration patterns, fresh domain alerts' },
    { name: 'Timeline reconstruction engine', start: 9, end: 9.5, desc: 'Correlate timestamps across memory, skills, config, network events' },
    { name: 'Immunity Ledger + IOC blocklist generation', start: 9.5, end: 10, desc: 'Distill incidents into IOCs, signatures, hardening rules', critical: true },
    { name: 'Hot-patch delivery to running instance', start: 9.5, end: 10, desc: 'Live firewall/scanner/config updates without reset' },
    { name: '★ Forensic-informed reset demonstrated', start: 10, end: 10, milestone: true, desc: 'Full cycle: compromise → archive → reset → dissect → inoculate' },
  ]},
  { id: 'p8', name: 'Phase 8: Recovery Modes', color: 'var(--phase8)', tasks: [
    { name: 'Micro-rollback CLI', start: 9, end: 9.5, desc: 'Roll back to any hourly checkpoint, < 1 hour time loss' },
    { name: 'State restore CLI', start: 9.5, end: 10, desc: 'Restore from daily state image, re-scan skills, < 24 hour time loss' },
    { name: 'Golden restore CLI', start: 9.5, end: 10, desc: 'Restore full VM from weekly golden, < 7 day time loss' },
    { name: 'Full seed reset w/ forensic capture', start: 10, end: 10.5, desc: 'Scorched earth: archive → destroy → reprovision → load Immunity Ledger → optional golden restore', critical: true },
    { name: '★ All 4 recovery tiers operational', start: 10.5, end: 10.5, milestone: true, desc: 'Complete recovery ladder from micro-rollback to seed reset' },
  ]},
  { id: 'p9', name: 'Phase 9: CLI, Docs & Hardening', color: 'var(--phase9)', tasks: [
    { name: 'Unified installer CLI (ocsi command)', start: 10, end: 11, desc: 'Single command interface: ocsi install, ocsi update, ocsi checkpoint, ocsi reset, ocsi forensic' },
    { name: 'User documentation & runbooks', start: 10.5, end: 11.5, desc: 'Installation guide, security runbooks, recovery playbooks, architecture diagrams' },
    { name: 'Integration test suite', start: 11, end: 12, desc: 'End-to-end tests: install → operate → compromise → detect → recover → inoculate', critical: true },
    { name: 'Penetration testing & hardening', start: 11, end: 12, desc: 'Red team exercises, VM escape attempts, prompt injection battery, supply chain probes' },
    { name: '★ v1.0 release candidate', start: 12, end: 12, milestone: true, desc: 'Production-ready secure installer' },
  ]},
];

function render(filter) {
  const chart = document.getElementById('chart');
  chart.innerHTML = '';

  // Build rows
  let rows = [];
  phases.forEach(phase => {
    rows.push({ type: 'phase', name: phase.name, color: phase.color, id: phase.id });
    phase.tasks.forEach(task => {
      if (filter === 'critical' && !task.critical && !task.milestone) return;
      rows.push({ type: 'task', ...task, color: phase.color, phaseId: phase.id });
    });
  });

  // Labels column
  const labels = document.createElement('div');
  labels.className = 'task-labels';
  labels.innerHTML = '<div class="label-header">Task</div>';
  rows.forEach(row => {
    const el = document.createElement('div');
    el.className = 'task-label' + (row.type === 'phase' ? ' phase-header' : '');
    if (row.type === 'phase') {
      el.innerHTML = `<div class="task-dot" style="background:${row.color}"></div>${row.name}`;
    } else {
      const prefix = row.milestone ? '◆ ' : '';
      el.innerHTML = `<div class="task-dot" style="background:${row.color};opacity:${row.critical?1:0.5}"></div><span style="flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${prefix}${row.name}</span>`;
      if (row.critical && !row.milestone) el.innerHTML += '<span class="dep-tag">CRITICAL</span>';
    }
    labels.appendChild(el);
  });
  chart.appendChild(labels);

  // Timeline area
  const timeline = document.createElement('div');
  timeline.className = 'timeline-area';

  // Week headers
  const weekHeaders = document.createElement('div');
  weekHeaders.className = 'week-headers';
  weekHeaders.style.minWidth = TOTAL_WEEKS * WEEK_WIDTH + 'px';
  const startDate = new Date('2026-02-10');
  for (let w = 0; w < TOTAL_WEEKS; w++) {
    const d = new Date(startDate);
    d.setDate(d.getDate() + w * 7);
    const dateStr = d.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
    const wh = document.createElement('div');
    wh.className = 'week-header';
    wh.style.minWidth = WEEK_WIDTH + 'px';
    wh.innerHTML = `<div><span class="week-num">W${w+1}</span><span class="week-date">${dateStr}</span></div>`;
    weekHeaders.appendChild(wh);
  }
  timeline.appendChild(weekHeaders);

  // Bars
  const bars = document.createElement('div');
  bars.className = 'bars-area';
  bars.style.minWidth = TOTAL_WEEKS * WEEK_WIDTH + 'px';
  bars.style.position = 'relative';

  rows.forEach((row, i) => {
    const barRow = document.createElement('div');
    barRow.className = 'bar-row' + (row.type === 'phase' ? ' phase-header' : '');

    // Grid lines
    for (let w = 0; w < TOTAL_WEEKS; w++) {
      const gl = document.createElement('div');
      gl.className = 'grid-line';
      gl.style.left = (w * WEEK_WIDTH) + 'px';
      barRow.appendChild(gl);
    }

    if (row.type === 'task') {
      if (row.milestone) {
        const m = document.createElement('div');
        m.className = 'milestone-marker';
        m.style.left = (row.start * WEEK_WIDTH - 8) + 'px';
        m.style.top = '14px';
        m.dataset.title = row.name;
        m.dataset.desc = row.desc;
        m.dataset.weeks = `Week ${Math.floor(row.start)+1}`;
        barRow.appendChild(m);
      } else {
        const bar = document.createElement('div');
        bar.className = 'gantt-bar' + (row.critical ? ' critical' : '');
        const left = row.start * WEEK_WIDTH;
        const width = Math.max((row.end - row.start) * WEEK_WIDTH, 20);
        bar.style.left = left + 'px';
        bar.style.width = width + 'px';
        bar.style.background = row.color;
        bar.style.opacity = row.critical ? 1 : 0.7;
        bar.dataset.title = row.name;
        bar.dataset.desc = row.desc;
        bar.dataset.weeks = `W${Math.floor(row.start)+1}–W${Math.ceil(row.end)}`;
        bar.dataset.critical = row.critical ? 'Critical Path' : '';
        barRow.appendChild(bar);
      }
    }

    bars.appendChild(barRow);
  });

  // Today line
  const today = new Date();
  const daysSinceStart = (today - startDate) / (1000 * 60 * 60 * 24);
  if (daysSinceStart >= 0 && daysSinceStart <= TOTAL_WEEKS * 7) {
    const todayLine = document.createElement('div');
    todayLine.className = 'today-line';
    todayLine.style.left = (daysSinceStart / 7 * WEEK_WIDTH) + 'px';
    bars.appendChild(todayLine);
  }

  timeline.appendChild(bars);
  chart.appendChild(timeline);

  // Tooltip handlers
  const tooltip = document.getElementById('tooltip');
  document.querySelectorAll('.gantt-bar, .milestone-marker').forEach(el => {
    el.addEventListener('mouseenter', e => {
      document.getElementById('tt-title').textContent = el.dataset.title;
      document.getElementById('tt-desc').textContent = el.dataset.desc;
      document.getElementById('tt-weeks').textContent = el.dataset.weeks || '';
      document.getElementById('tt-deps').textContent = el.dataset.critical || '';
      tooltip.classList.add('show');
    });
    el.addEventListener('mousemove', e => {
      tooltip.style.left = Math.min(e.clientX + 12, window.innerWidth - 340) + 'px';
      tooltip.style.top = (e.clientY + 12) + 'px';
    });
    el.addEventListener('mouseleave', () => tooltip.classList.remove('show'));
  });
}

let currentView = 'all';
function setView(view) {
  currentView = view;
  document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  render(view);
}

render('all');
</script>
</body>
</html>
